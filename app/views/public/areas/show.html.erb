<div class="col-8 border px-2">
  <h2 class="text-center my-4">釣り場情報</h2>
    <div class="d-flex">
      <div class="col-4">
        <!-- GoogleMapの表示 -->
        <%= render "public/areas/map", {google_api: @google_api, area: @area} %>
      </div>
      <table class="col-8 table table-borderless">
        <tr>
          <!-- 地域名を表示 -->
          <th class="text-center" sytle="width: 200px">地域名</th>
          <td><%= @area.name %></td>
        </tr>
        <tr>
          <!-- 釣り場の評価平均を表示 -->
          <th class="text-center" style="width: 200px">評価点</th>
          <td class="d-flex align-items-center">
            <%= render "public/areas/rate_ave", area: @area %>
          </td>
        </tr>
      </table>
    </div>

  <div class="col-8 offset-4">
    <div>
      <div class="text-center mb-2">コメント件数：<%= @area.area_ratings.count %></div>
      <div class="border-bottom"></div>
      <!-- 評価コメントの表示 -->
      <% @area.area_ratings.each do |rating| %>
        <!-- コメント投稿ユーザーの名前 -->
        <div><%= rating.user.name %>さん</div>
        <!-- 投稿コメントを表示 -->
        <div class="mx-3"><%= rating.comment %></div>
        <div class="text-right border-bottom">
          <div><%= rating.created_at.strftime('%Y/%m/%d') %></div>
          <!-- 釣り場の5段階評価を表示 -->
          <%= render "public/areas/rate_indiv", rating: rating %>
        </div>
      <% end %>
    </div>

    <div>
      <% if user_signed_in? %>
        <%= form_with model: @area_rating do |f| %>
          <%= f.hidden_field :area_id, :value => @area.id %>
          <!-- コメント入力フォーム -->
          <div><%= f.text_area :comment, rows: "5", placeholder: "コメントを入力", class: "mt-3 w-100" %></div>
          <div id="score">
            <!-- 5段階評価の値を受け渡す -->
            <%= f.label :score, "釣り場の評価", class: "pt-0 col-form-label" %>
            <%= f.hidden_field :score, id: :review_star %>
          </div>
          <div><%= f.submit "送信", class: "btn btn-success mb-3 w-50" %></div>
          <!-- 5段階評価を投稿フォームに表示 -->
          <%= render "public/areas/rate_form" %>
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="row p-3">
    <div class="col-12">
      <!-- 釣り場の釣果をグラフにして表示 -->
      <%= render "public/areas/chart", {species_name: @species_name, catch_number: @catch_number} %>
    </div>
  </div>
</div>