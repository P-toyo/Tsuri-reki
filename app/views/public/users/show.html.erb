<!-- ヘッダー -->
<header class="bg-dark py-4">
  <div class="container px-4 px-lg-5">
    <div class="text-center text-white">
      <!-- 自分のページとその他の人のページでヘッダーを変更 -->
      <% if current_user.id == @user.id %>
        <h2 class="fw-bolder">マイページ</h2>
      <% else %>
        <h2 class="fw-bolder"><%= @user.name %>さんのページ</h2>
      <% end %>
    </div>
  </div>
</header>
<!-- セクション -->
<section>
  <div class="col-lg-8 offset-lg-2 my-3">
    <div class="text-center">
      <%= image_tag @user.get_image, class: "align-items-center", height: "200" %>
    </div>
    <div class="text-center my-2">
      <%= link_to "プロフィール編集", user_path(@user), class: "btn btn-outline-dark", method: :update %>
    </div>
    <div class="row">
      <!-- ユーザーの情報をタブで表示 -->
      <div class="col-12 mx-auto">
        <ul class="nav nav-tabs justify-content-center">
          <li class="nav-item", style="width: 20%">
            <a href="#tab-a" data-toggle="tab" class="nav-link text-center text-dark active">投稿</br><%= @user.posts.count %></a>
          </li>
          <li class="nav-item", style="width: 20%">
            <a href="#tab-b" data-toggle="tab" class="nav-link text-center text-dark">ブックマーク</br><%= @user.bookmarks.count %></a>
          </li>
          <li class="nav-item", style="width: 20%">
            <a href="#tab-c" data-toggle="tab" class="nav-link text-center text-dark">フォロー</br><%= @user.followings.count %></a>
          </li>
          <li class="nav-item", style="width: 20%">
            <a href="#tab-d" data-toggle="tab" class="nav-link text-center text-dark">フォロワー</br><%= @user.followers.count %></a>
          </li>
          <li class="nav-item", style="width: 20%">
            <a href="#tab-e" data-toggle="tab" class="nav-link text-center text-dark">釣果メモ</br><%= @user.records.count %></a>
          </li>
        </ul>
      </div>
      <!-- タブの中身を設定 -->
      <div class="col-12 tab-content">
        <div id="tab-a" class="tab-pane active text-center">
          <% if @user.posts.exists? %>
            <% @user.posts.each do |post| %>
              <p class="text-center">投稿日:<%= post.date %>　投稿タイトル:<%= link_to "#{post.title}", post_path(post) %></p>
            <% end %>
          <% else %>
            <p class="text-center">投稿はありません</p>
          <% end %>
        </div>
        <div id="tab-b" class="tab-pane text-center">
          <% if @user.bookmarks.exists? %>
            <% @user.bookmarks.each do |bookmark| %>
              <p class="text-cener">投稿日:<%= bookmark.post.date %>　投稿タイトル:<%= link_to "#{bookmark.post.title}", post_path(bookmark.post_id) %></p>
            <% end %>
          <% else %>
            <p class="text-center">ブックマークはありません</p>
          <% end %>
        </div>
        <div id="tab-c" class="tab-pane text-center">
          <% if @user.followings.exists? %>
            <% @user.followings.each do |following| %>
              <p class="text-cener"><%= following.name %></p>
            <% end %>
          <% else %>
            <p class="text-center">ユーザーはいません</p>
          <% end %>
        </div>
        <div id="tab-d" class="tab-pane text-center">
          <% if @user.followers.exists? %>
            <% @user.followers.each do |follower| %>
              <p class="text-cener"><%= follower.name %></p>
            <% end %>
          <% else %>
            <p class="text-center">ユーザーはいません</p>
          <% end %>
        </div>
        <div id="tab-e" class="tab-pane text-center">
          <% @user.records.each do |record| %>
            <%= record.species.name %>　合計
            <%= record.catch_number %>匹　最大
            <%= record.size %>cm
          <% end %>
        </div>
      </div>
    </div>
  </div>
</section>